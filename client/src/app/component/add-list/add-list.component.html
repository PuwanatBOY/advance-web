<app-em-navbar></app-em-navbar>
<div class="card text-back mb-3 text-center">
    <div class="card-body">
        <h1 class="card-title">เพิ่มรายการสินค้า</h1>
        <form [formGroup]="dataList" style="text-align: left;">
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="nameCargo">ชื่อสินค้า</label>
                    <input type="text" class="form-control" formControlName="nameCargo" placeholder="i-Phone" required />
                    <div class="valid-tooltip">
                        Looks good!
                    </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="type">ประเภทสินค้า</label>
                    <select class="browser-default custom-select" formControlName="type" class="form-control">
                      <option selected>--กรุณาเลือก--</option>
                      <option *ngFor="let type of getAllProType()">{{type.t_name}}</option>
                    </select>
                </div>
            </div>
            <div *ngIf="nameCargo.invalid && (nameCargo.dirty || nameCargo.touched)" class="alert alert-danger">
                <div *ngIf="nameCargo.errors.required">
                    nameCargo is required
                </div>
            </div>
            <div *ngIf="type.invalid && (type.dirty || type.touched)" class="alert alert-danger">
                <div *ngIf="type.errors.required">
                    type is required
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <div formGroupName="detail">
                        <h5>รายละเอียดสินค้า</h5>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="produceDate">ผลิตวันที่</label>
                                <input type="date" class="form-control" formControlName="produceDate" />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="typeOS">ระบบประฏิบัติการ</label>
                                <select class="browser-default custom-select" formControlName="typeOS" class="form-control">
                                  <option selected>--กรุณาเลือก--</option>
                                  <option *ngFor="let os of getAllProOS()">{{os.os_name}}</option>
                                </select>
                            </div>
                        </div>
                        <div *ngIf="produceDate.invalid && (produceDate.dirty || produceDate.touched)" class="alert alert-danger">
                            <div *ngIf="produceDate.errors.required">
                                produceDate is required
                            </div>
                        </div>
                        <div *ngIf="typeOS.invalid && (typeOS.dirty || typeOS.touched)" class="alert alert-danger">
                            <div *ngIf="typeOS.errors.required">
                                type OS is required
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="size">ขนาดจอ(นิ้ว)</label>
                                <input type="text" class="form-control" formControlName="size" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="display">จอแสดงผล</label>
                                <input type="text" class="form-control" formControlName="display" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="cpu">CPU</label>
                                <input type="text" class="form-control" formControlName="cpu" />
                            </div>
                        </div>
                        <div *ngIf="size.invalid && (size.dirty || size.touched)" class="alert alert-danger">
                            <div *ngIf="size.errors.required">
                                size is required
                            </div>
                        </div>
                        <div *ngIf="display.invalid && (display.dirty || display.touched)" class="alert alert-danger">
                            <div *ngIf="typeOS.errors.required">
                                display is required
                            </div>
                        </div>
                        <div *ngIf="cpu.invalid && (cpu.dirty || cpu.touched)" class="alert alert-danger">
                            <div *ngIf="cpu.errors.required">
                                cpu is required
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="ram">RAM(GB)</label>
                                <input type="text" class="form-control" formControlName="ram" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="rom">ROM(GB)</label>
                                <input type="text" class="form-control" formControlName="rom" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="externalDrive">หน่วยความจำภายนอก(GB)</label>
                                <input type="text" class="form-control" formControlName="externalDrive" />
                            </div>
                        </div>
                        <div *ngIf="ram.invalid && (ram.dirty || ram.touched)" class="alert alert-danger">
                            <div *ngIf="ram.errors.required">
                                ram is required
                            </div>
                        </div>
                        <div *ngIf="rom.invalid && (rom.dirty || rom.touched)" class="alert alert-danger">
                            <div *ngIf="rom.errors.required">
                                rom is required
                            </div>
                        </div>
                        <div *ngIf="externalDrive.invalid && (externalDrive.dirty || externalDrive.touched)" class="alert alert-danger">
                            <div *ngIf="externalDrive.errors.required">
                                ExternalDriveis required
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="camFace">กล้องดิจิตอลหน้า</label>
                                <input type="text" class="form-control" formControlName="camFace" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="camBack">กล้องดิจิตอลหลัง</label>
                                <input type="text" class="form-control" formControlName="camBack" />
                            </div>
                            <div class="form-group col-md-4">
                                <label for="batt">แบตเตอรี่(mAh)</label>
                                <input type="text" class="form-control" formControlName="batt" />
                            </div>
                        </div>
                        <div *ngIf="camFace.invalid && (camFace.dirty || camFace.touched)" class="alert alert-danger">
                            <div *ngIf="camFace.errors.required">
                                camFace is required
                            </div>
                        </div>
                        <div *ngIf="camBack.invalid && (camBack.dirty || camBack.touched)" class="alert alert-danger">
                            <div *ngIf="camBack.errors.required">
                                camBack is required
                            </div>
                        </div>
                        <div *ngIf="batt.invalid && (batt.dirty || batt.touched)" class="alert alert-danger">
                            <div *ngIf="batt.errors.required">
                                battery is required
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-1">รองรับ 2 ซิม</div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="twoSim"
                    value="YES"
                    formControlName="twoSim"
                  />
                  YES
                </label>
                            </div>

                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="twoSim"
                    value="NO"
                    formControlName="twoSim"
                  />
                  NO
                </label>
                            </div>
                        </div>
                        <div *ngIf="twoSim.invalid && (twoSim.dirty || twoSim.touched)" class="alert alert-danger">
                            <div *ngIf="twoSim.errors.required">
                                twoSim is required
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <br />
            <div class="form-row">
                <div class="col-md-6 mb-3">
                    <label for="codeCargo">รหัสสินค้า</label>
                    <input type="text" class="form-control" formControlName="codeCargo" placeholder="ABC-CDEFG-HIJKLMN" required />
                </div>
                <div class="col-md-3 mb-3">
                    <label for="quantity">จำนวนสินค้า(เครื่อง)</label>
                    <input type="number" formControlName="quantity" class="form-control" ng-reflect-name="quantity" required />
                </div>
                <div class="col-md-3 mb-3">
                    <label for="price">ราคา(บาท)</label>
                    <input type="text" class="form-control" formControlName="price" placeholder="xx,xxx.xx" required />
                </div>
            </div>
            <div *ngIf="codeCargo.invalid && (codeCargo.dirty || codeCargo.touched)" class="alert alert-danger">
                <div *ngIf="codeCargo.errors.required">
                    code Cargo is required
                </div>
            </div>
            <div *ngIf="quantity.invalid && (quantity.dirty || quantity.touched)" class="alert alert-danger">
                <div *ngIf="quantity.errors.required">
                    quantity is required
                </div>
            </div>
            <div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger">
                <div *ngIf="price.errors.required">
                    price is required
                </div>
            </div>
            <!--div class="form-row">
                <div class="form-group col-md-8">
                    <label for="image">รูปสินค้า</label>
                    <input type="text" class="form-control" formControlName='image' placeholder="http://...." required>
                </div>
            </div-->
            <div class="row">
                <div class="col-md-1">
                    รูปสินค้า
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <input type="file" class="form-control-file" formControlName="file" accept="image/*" ngf-max-size="2MB" (change)="onChangeImg($event)" />
                    </div>
                </div>
            </div>
            <div *ngIf="file.invalid && (file.dirty || file.touched)" class="alert alert-danger">
                <div *ngIf="file.errors.required">
                    file is required
                </div>
            </div>

            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-9">
                    <img *ngIf="previewLoaded" class="img-thumbnail" [src]="this.dataList.value.img" style="height: 150px;" />
                </div>
            </div>
            <div *ngIf="img.invalid && (img.dirty || img.touched)" class="alert alert-danger">
                <div *ngIf="img.errors.required">
                    img is required
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <button type="button" class="btn btn-primary" (click)="saveDataList()">
            บันทึกข้อมูล</button
          >&nbsp;
          <button type="reset" class="btn btn-danger" (click)="resetForm()">
            ล้างข้อมูล
          </button>
                </div>
            </div>
        </form>
        <br />
        <!--div class="card">
            <div class="card-body">
                <h4 class="card-title">Display : </h4>
                <p class="card-text">
                    {{ dataList.value|json }}
                </p>
                <p class="card-text">
                    Form Status: {{ dataList.status|json }}
                </p>
            </div>
        </div-->
    </div>
</div>